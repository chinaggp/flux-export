# FluxExport: 通用异步导出 SDK 技术方案

## 1. 项目简介

**FluxExport** 是一个轻量级、插件化的 Java 异步导出组件。

它旨在解决后端系统中重复开发导出接口、资源占用不可控、进度无法感知的痛点。通过 **SDK(核心调度)** 与 **Client(业务实现)** 的分离,实现"一次接入,永久复用"。

### 1.1 核心价值

- **零业务侵入**:SDK 不包含任何业务逻辑,仅负责任务调度与生命周期管理。
- **配置化驱动**:通过简单的配置注册,即可将现有的 Service 方法转化为导出能力。
- **稳健低运维**:采用纯数据库存储 + 内存防抖机制,无需引入 Redis,适合后台管理系统。

### 1.2 技术栈与版本要求

- **Java 版本**:JDK 17+
- **Excel 引擎**:EasyExcel 3.x
- **框架基础**:Spring Boot 3.0+

## 2. 系统架构设计

### 2.1 模块划分

系统边界划分为 **SDK 层**(核心 Jar 包,包名 `com.flux.export`)和 **Client 层**(接入的应用服务)。

## 3. 核心交互流程

1. **提交任务**:前端通过 `/public/export/create` 提交导出请求。
2. **鉴权与校验**:SDK 调用 SPI 检查权限并校验业务参数。
3. **异步调度**:任务进入 PENDING 状态,随后由异步线程池执行。
4. **数据处理**:反射调用业务 Service 获取数据,使用 EasyExcel 生成文件。
5. **存储与反馈**:上传至文件服务器,更新任务状态为 SUCCESS,前端轮询获取下载链接。

## 4. 接入指南

详细接入步骤请参考 `flux-export-sample` 模块中的代码实现。

- 核心库:`flux-export-core`
- 基础示例:`flux-export-sample`
- MySQL 示例:`flux-export-mysql-demo`
